# 食谱管理功能模块

## 功能概述

食谱管理是 PantryChef 应用的核心功能模块，实现了基于用户现有食材的智能食谱推荐和补货建议。

## 主要功能

### 1. 智能食谱生成
- **食材输入**：支持手动输入和可视化选择两种方式
- **AI 分析**：根据用户输入的食材智能分析，推荐合适的食谱
- **多食谱推荐**：一次可生成多个相关食谱，提供多样化选择

### 2. 食材选择器
- **可视化选择**：提供常用食材的图标化选择界面
- **分类管理**：按蔬菜、肉类、海鲜等分类组织食材
- **快速添加**：支持批量选择和快速确认

### 3. 补货建议系统
- **智能分析**：基于推荐食谱分析缺少的食材
- **优先级标识**：区分重要和一般补货建议
- **价格预估**：提供补货食材的价格参考
- **一键添加**：支持将补货建议直接添加到购物车

### 4. 购物车联动
- **无缝集成**：与购物车系统完全集成
- **自动同步**：补货建议可直接添加到购物清单
- **状态管理**：实时更新购物车状态和数量

## 技术实现

### 组件结构
```
RecipeManagement/
├── index.jsx              # 主页面组件
├── README.md              # 说明文档
└── components/            # 子组件
    └── IngredientSelector/ # 食材选择器
        └── index.jsx
```

### 核心组件

#### RecipeManagement (主页面)
- 食材输入和选择
- 食谱生成逻辑
- 补货建议展示
- 购物车集成

#### IngredientSelector (食材选择器)
- 弹窗式选择界面
- 食材分类展示
- 多选和确认功能

### API 接口

#### 食谱生成
```javascript
POST /api/recipe/generate
{
    "ingredients": "番茄 鸡蛋 葱花"
}
```

#### 响应格式
```javascript
{
    "code": 0,
    "message": "生成成功",
    "data": {
        "recipes": [...],
        "supplements": [...]
    }
}
```

### Mock 数据
- 支持番茄炒蛋、紫菜蛋汤等常见食谱
- 智能补货建议（葱花、紫菜等）
- 完整的食材分类和价格信息

## 使用流程

1. **输入食材**
   - 手动输入食材名称
   - 或点击"选择食材"按钮使用可视化选择器

2. **生成食谱**
   - 点击"生成食谱"按钮
   - AI 分析食材并推荐合适食谱

3. **查看建议**
   - 浏览推荐的食谱列表
   - 查看补货建议和原因说明

4. **添加到购物车**
   - 点击单个补货建议的"添加"按钮
   - 或使用"一键添加全部"功能

## 数据结构

### 食谱对象
```javascript
{
    id: 'recipe-1',
    title: '番茄炒蛋',
    image: '图片URL',
    category: '家常菜',
    time: '15',
    difficulty: '简单',
    calories: '180'
}
```

### 补货建议对象
```javascript
{
    id: 'supplement-1',
    name: '紫菜',
    reason: '制作紫菜蛋汤需要',
    priority: 'high',
    estimatedPrice: '8.00'
}
```

## 扩展功能

### 未来规划
- **AI 增强**：集成真实的 AI 食谱生成服务
- **个性化推荐**：基于用户口味和饮食习惯
- **营养分析**：提供详细的营养成分分析
- **烹饪指导**：添加步骤化的烹饪指导

### 集成点
- **购物车系统**：已完成集成
- **用户系统**：支持用户认证和个性化
- **分享功能**：可扩展食谱分享功能
- **收藏系统**：支持食谱收藏和管理

## 注意事项

1. **食材输入**：建议使用标准食材名称，避免方言或俗称
2. **网络请求**：食谱生成需要网络连接，支持离线模式
3. **购物车同步**：补货建议添加后会自动同步到购物车
4. **权限控制**：需要用户登录才能使用完整功能

## 开发说明

### 环境要求
- React 18+
- react-vant 组件库
- 支持 ES6+ 语法

### 开发模式
- 使用 Mock 数据进行开发和测试
- 支持热重载和快速迭代
- 完整的错误处理和用户反馈

### 测试建议
- 测试不同食材组合的食谱生成
- 验证补货建议的准确性
- 检查购物车集成的完整性
- 测试用户权限和认证流程
